{"version":3,"file":"js/483.f0d735c1.js","mappings":"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","sources":["webpack://simple_twitter/./src/views/AdminSignIn.vue","webpack://simple_twitter/src/views/AdminSignIn.vue","webpack://simple_twitter/./src/views/AdminSignIn.vue?37ad","webpack://simple_twitter/./src/views/AdminSignIn.vue?0381","webpack://simple_twitter/./src/apis/admin.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_vm._m(0),_c('form',{on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-label-group\",class:{'errorAccount': _vm.errorAccount}},[_c('label',{attrs:{\"for\":\"account\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],attrs:{\"id\":\"account\",\"name\":\"account\",\"autofocus\":\"\",\"type\":\"name\",\"placeholder\":\"請輸入帳號\",\"autocomplete\":\"account\"},domProps:{\"value\":(_vm.account)},on:{\"input\":function($event){if($event.target.composing)return;_vm.account=$event.target.value}}})]),_c('div',{staticClass:\"form-label-group\",class:{'errorPassword': _vm.errorPassword}},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"請輸入密碼\",\"autocomplete\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}})]),_c('button',{staticClass:\"btn\"},[_vm._v(\"登入\")])]),_c('div',{staticClass:\"other-link d-flex justify-content-end\"},[_c('router-link',{attrs:{\"to\":\"admin/signin\"}},[_c('div',{staticClass:\"btn-cancel\"},[_c('u',[_vm._v(\"前台登入\")])])])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"./../assets/logo.png\"),\"alt\":\"logo\"}}),_c('h3',[_vm._v(\"後台登入\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"header\">\n      <img src=\"./../assets/logo.png\" alt=\"logo\" class=\"logo\">\n      <h3>後台登入</h3>\n    </div>\n    <form class=\"\" @submit.prevent.stop=\"handleSubmit\">\n      <div class=\"form-label-group\" :class=\"{'errorAccount': errorAccount}\">\n        <label for=\"account\">帳號</label>\n        <input id=\"account\" name=\"account\" autofocus v-model=\"account\" type=\"name\" placeholder=\"請輸入帳號\"\n          autocomplete=\"account\">\n      </div>\n      <div class=\"form-label-group\" :class=\"{'errorPassword': errorPassword}\">\n        <label for=\"password\">密碼</label>\n        <input id=\"password\" name=\"password\" v-model=\"password\" type=\"password\" placeholder=\"請輸入密碼\"\n          autocomplete=\"password\">\n      </div>\n      <button class=\"btn\">登入</button>\n    </form>\n    <div class=\"other-link d-flex justify-content-end\">\n      <router-link to='admin/signin'>\n      <div class=\"btn-cancel\"><u>前台登入</u></div>\n    </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport adminAPI from '../apis/admin'\nimport { alert } from '../utils/mixins'\nexport default {\n  data() {\n    return {\n      account: '',\n      password: '',\n      isProcessing: false,\n      errorAccount: false,\n      errorPassword: false\n    }\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        if (!this.account || !this.password) {\n          alert.warning('請輸入帳號及密碼')\n          this.isInputNull = true\n          return\n        }\n\n\n        const { data } = await adminAPI.signIn({\n          account: this.account,\n          password: this.password\n        })\n        this.isProcessing = true\n\n        if (data.status === 'error') {\n          throw new Error()\n        }\n        localStorage.setItem('token', data.token)\n        this.$store.commit('setCurrentUser', data.user)       \n        alert.success('登入成功！')\n        this.$router.push({name: \"admin-tweets\"})\n      }catch(err){\n        this.isProcessing = false\n        let message = err.response.data.message\n\n        if (message === \"Error: admin permission denied\") {\n          alert.error('請由前台登入')\n          this.errorAccount = true\n        } else if (message === \"Error: The account is incorrect!\") {\n          alert.error('帳號不存在！')\n          this.errorAccount = true\n        } else if (message === \"Error: The password is incorrect!\") {\n          alert.error('密碼有誤')\n          this.errorPassword = true\n        }\n      }\n    }\n  },\n  watch: {\n    account() {\n      this.errorAccount = false\n    },\n    password() {\n      this.errorPassword = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/admin-signIn-Up/style.scss';\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdminSignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdminSignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminSignIn.vue?vue&type=template&id=2feb5d83&scoped=true&\"\nimport script from \"./AdminSignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminSignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminSignIn.vue?vue&type=style&index=0&id=2feb5d83&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2feb5d83\",\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from '../utils/helpers'\n\nexport default {\n  signIn ({ account, password }) {\n    return apiHelper.post('/api/admin/signin', {\n      account,\n      password\n    })\n  },\n  getAllTweets() {\n    return apiHelper.get(`/api/admin/tweets`)\n  },\n  getAllUsers () {\n    return apiHelper.get(`/api/admin/users`)\n  },\n  deleteTweet (tweetId) {\n    return apiHelper.delete(`/api/admin/tweets/${tweetId}`)\n  }\n}"],"names":["render","_vm","this","_c","_self","staticClass","_m","on","$event","preventDefault","stopPropagation","handleSubmit","apply","arguments","class","errorAccount","attrs","_v","directives","name","rawName","value","account","expression","domProps","target","composing","errorPassword","password","staticRenderFns","require","data","isProcessing","methods","alert","localStorage","watch","component","signIn","apiHelper","getAllTweets","getAllUsers","deleteTweet","tweetId"],"sourceRoot":""}